<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - LegadoBox</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .gradient-gold { background: linear-gradient(135deg, #fbbf24, #f59e0b, #d97706); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .lucky-number { 
            background: linear-gradient(135deg, #fbbf24, #f59e0b, #d97706);
            background-size: 200% 200%;
            animation: shimmer 3s ease-in-out infinite;
        }
        .animate-glow { animation: glow 2s ease-in-out infinite alternate; }
        .dropdown { transform: translateY(-10px); opacity: 0; visibility: hidden; transition: all 0.3s ease; }
        .dropdown.show { transform: translateY(0); opacity: 1; visibility: visible; }
        .notification-slide { animation: slideDown 0.5s ease-out; }
        
        @keyframes shimmer {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes glow {
            from { box-shadow: 0 0 20px rgba(251, 191, 36, 0.5); }
            to { box-shadow: 0 0 30px rgba(251, 191, 36, 0.8), 0 0 40px rgba(251, 191, 36, 0.3); }
        }
        
        @keyframes slideDown {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .stat-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 1px solid #e2e8f0;
        }
        
        .stat-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    
    <!-- Incomplete Data Warning -->
    <!-- <div id="incompleteDataWarning" class="bg-amber-50 border-l-4 border-amber-400 p-4 notification-slide">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <i data-lucide="alert-triangle" class="w-5 h-5 text-amber-600"></i>
                <div>
                    <p class="text-amber-800 font-medium">Complete seus dados pessoais</p>
                    <p class="text-amber-700 text-sm">Alguns dados da sua conta estão incompletos. Complete para uma melhor experiência.</p>
                </div>
            </div>
            <div class="flex items-center space-x-2">
                <button onclick="goToAccountData()" class="text-amber-600 hover:text-amber-800 font-medium text-sm">
                    Completar agora
                </button>
                <button onclick="closeWarning()" class="text-amber-400 hover:text-amber-600">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
        </div>
    </div> -->

    <!-- Header -->
    <header class="gradient-bg text-white py-6 px-4">
        <div class="max-w-6xl mx-auto">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center">
                        <i data-lucide="heart" class="w-7 h-7"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold">LegadoBox</h1>
                        <p class="text-white/80">Olá, João! Bem-vindo de volta</p>
                    </div>
                </div>
                
                <!-- User Menu -->
                <div class="relative">
                    <button onclick="toggleUserMenu()" class="flex items-center space-x-3 text-white/80 hover:text-white p-2 rounded-lg hover:bg-white/10 transition-colors">
                        <div class="text-right">
                            <p class="font-medium">João Silva</p>
                            <p class="text-sm text-white/60">Plano Premium</p>
                        </div>
                        <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center">
                            <i data-lucide="more-vertical" class="w-5 h-5"></i>
                        </div>
                    </button>
                    
                    <!-- Dropdown Menu -->
                    <div id="userDropdown" class="dropdown absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50">
                        <button onclick="goToAccountData()" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50 flex items-center space-x-3">
                            <i data-lucide="user" class="w-4 h-4"></i>
                            <span>Dados da Conta</span>
                        </button>
                        <button onclick="goToPayments()" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50 flex items-center space-x-3">
                            <i data-lucide="credit-card" class="w-4 h-4"></i>
                            <span>Pagamentos</span>
                        </button>
                        <hr class="my-1">
                        <button onclick="logout()" class="w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 flex items-center space-x-3">
                            <i data-lucide="log-out" class="w-4 h-4"></i>
                            <span>Sair</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="py-8 px-4">
        <div class="max-w-6xl mx-auto">
            
            <!-- Statistics Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                
                <!-- Total Cofres -->
                <div class="stat-card rounded-2xl p-6 card-hover">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="archive" class="w-6 h-6 text-blue-600"></i>
                        </div>
                        <span class="text-2xl font-bold text-gray-900">3</span>
                    </div>
                    <h3 class="font-semibold text-gray-900 mb-1">Total de Cofres Digitais</h3>
                    <p class="text-gray-500 text-sm">Cofres criados e ativos</p>
                </div>

                <!-- Total Mensagens -->
                <div class="stat-card rounded-2xl p-6 card-hover">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="message-circle" class="w-6 h-6 text-green-600"></i>
                        </div>
                        <span class="text-2xl font-bold text-gray-900">12</span>
                    </div>
                    <h3 class="font-semibold text-gray-900 mb-1">Total de Mensagens</h3>
                    <p class="text-gray-500 text-sm">Mensagens criadas</p>
                </div>

                <!-- Total Destinatários -->
                <div class="stat-card rounded-2xl p-6 card-hover">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="users" class="w-6 h-6 text-purple-600"></i>
                        </div>
                        <span class="text-2xl font-bold text-gray-900">5</span>
                    </div>
                    <h3 class="font-semibold text-gray-900 mb-1">Total de Destinatários</h3>
                    <p class="text-gray-500 text-sm">Pessoas cadastradas</p>
                </div>

                <!-- Número da Sorte -->
                <div onclick="openLuckyModal()" class="stat-card rounded-2xl p-6 card-hover cursor-pointer">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="gift" class="w-6 h-6 text-amber-600"></i>
                        </div>
                        <div class="lucky-number text-white font-bold text-xl px-3 py-1 rounded-lg animate-glow">
                            #7842
                        </div>
                    </div>
                    <h3 class="font-semibold text-gray-900 mb-1">Seu Número da Sorte</h3>
                    <p class="text-gray-500 text-sm">Clique para ver as regras</p>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                
                <!-- Criar Cofre -->
                <div class="bg-white rounded-2xl shadow-xl p-6 card-hover">
                    <div class="w-16 h-16 gradient-bg rounded-2xl flex items-center justify-center mb-4">
                        <i data-lucide="plus" class="w-8 h-8 text-white"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">Criar Novo Cofre</h3>
                    <p class="text-gray-600 mb-4">Crie um cofre digital especial para alguém que você ama</p>
                    <button onclick="createVault()" class="w-full gradient-bg text-white py-3 rounded-lg hover:opacity-90 transition-opacity font-medium">
                        Começar Agora
                    </button>
                </div>

                <!-- Gerenciar Destinatários -->
                <div class="bg-white rounded-2xl shadow-xl p-6 card-hover">
                    <div class="w-16 h-16 bg-green-500 rounded-2xl flex items-center justify-center mb-4">
                        <i data-lucide="users" class="w-8 h-8 text-white"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">Gerenciar Destinatários</h3>
                    <p class="text-gray-600 mb-4">Adicione ou edite as pessoas que receberão seus legados</p>
                    <button onclick="manageRecipients()" class="w-full bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 transition-colors font-medium">
                        Gerenciar
                    </button>
                </div>

                <!-- Meus Cofres -->
                <div class="bg-white rounded-2xl shadow-xl p-6 card-hover">
                    <div class="w-16 h-16 bg-purple-500 rounded-2xl flex items-center justify-center mb-4">
                        <i data-lucide="archive" class="w-8 h-8 text-white"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">Meus Cofres</h3>
                    <p class="text-gray-600 mb-4">Visualize e edite todos os seus cofres digitais criados</p>
                    <button onclick="viewVaults()" class="w-full bg-purple-500 text-white py-3 rounded-lg hover:bg-purple-600 transition-colors font-medium">
                        Ver Cofres
                    </button>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
                <div class="p-6 border-b border-gray-200">
                    <h3 class="text-2xl font-bold text-gray-900">Atividade Recente</h3>
                </div>
                <div class="p-6">
                    <div class="space-y-4">
                        
                        <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-lg">
                            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                                <i data-lucide="plus" class="w-5 h-5 text-blue-600"></i>
                            </div>
                            <div class="flex-1">
                                <p class="font-medium text-gray-900">Cofre criado para Maria Silva</p>
                                <p class="text-gray-500 text-sm">Há 2 dias</p>
                            </div>
                        </div>

                        <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-lg">
                            <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
                                <i data-lucide="message-circle" class="w-5 h-5 text-green-600"></i>
                            </div>
                            <div class="flex-1">
                                <p class="font-medium text-gray-900">Mensagem adicionada ao cofre de João</p>
                                <p class="text-gray-500 text-sm">Há 5 dias</p>
                            </div>
                        </div>

                        <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-lg">
                            <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center">
                                <i data-lucide="user-plus" class="w-5 h-5 text-purple-600"></i>
                            </div>
                            <div class="flex-1">
                                <p class="font-medium text-gray-900">Novo destinatário cadastrado: Ana Santos</p>
                                <p class="text-gray-500 text-sm">Há 1 semana</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Lucky Number Modal -->
    <div id="luckyModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50 p-4" style="backdrop-filter: blur(8px);">
        <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            
            <!-- Modal Header -->
            <div class="gradient-gold text-white p-6 rounded-t-2xl">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center">
                            <i data-lucide="gift" class="w-7 h-7"></i>
                        </div>
                        <div>
                            <h3 class="text-2xl font-bold">🎁 Sorteio Anual</h3>
                            <p class="text-white/90">Concorra a um iPhone 16 Pro Max!</p>
                        </div>
                    </div>
                    <button onclick="closeLuckyModal()" class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors">
                        <i data-lucide="x" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>

            <!-- Modal Content -->
            <div class="p-6">
                
                <!-- Prize Section -->
                <div class="text-center mb-8">
                    <div class="w-24 h-24 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i data-lucide="smartphone" class="w-12 h-12 text-white"></i>
                    </div>
                    <h4 class="text-xl font-bold text-gray-900 mb-2">📲 Prêmio: iPhone 16 Pro Max</h4>
                    <p class="text-gray-600">
                        Todo usuário cadastrado recebe automaticamente um número exclusivo da sorte. Com ele, você poderá participar do nosso sorteio anual de um iPhone 16 Pro Max para registrar os melhores momentos com sua família e pessoas queridas.
                    </p>
                </div>

                <!-- How it Works -->
                <div class="mb-8">
                    <h4 class="text-lg font-bold text-gray-900 mb-4 flex items-center space-x-2">
                        <i data-lucide="info" class="w-5 h-5 text-blue-500"></i>
                        <span>📌 Como funciona:</span>
                    </h4>
                    
                    <div class="space-y-4">
                        <div class="bg-gray-50 rounded-lg p-4">
                            <div class="flex items-start space-x-3">
                                <div class="w-8 h-8 gradient-bg rounded-full flex items-center justify-center text-white font-bold text-sm">1</div>
                                <p class="text-gray-700 flex-1">Ao se cadastrar, você recebe um número de sorte.</p>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 rounded-lg p-4">
                            <div class="flex items-start space-x-3">
                                <div class="w-8 h-8 gradient-bg rounded-full flex items-center justify-center text-white font-bold text-sm">2</div>
                                <p class="text-gray-700 flex-1">Quando completar <strong>12 meses de assinatura ativa</strong>, seu número será automaticamente habilitado para concorrer.</p>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 rounded-lg p-4">
                            <div class="flex items-start space-x-3">
                                <div class="w-8 h-8 gradient-bg rounded-full flex items-center justify-center text-white font-bold text-sm">3</div>
                                <p class="text-gray-700 flex-1">O sorteio acontece todo ano, no <strong>primeiro sábado de janeiro</strong>, com base no primeiro sorteio da Loteria Federal do dia.</p>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 rounded-lg p-4">
                            <div class="flex items-start space-x-3">
                                <div class="w-8 h-8 gradient-bg rounded-full flex items-center justify-center text-white font-bold text-sm">4</div>
                                <p class="text-gray-700 flex-1">Serão considerados os <strong>4 últimos números</strong> do resultado do primeiro sorteio da Loteria Federal.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Rules -->
                <div class="mb-8">
                    <h4 class="text-lg font-bold text-gray-900 mb-4 flex items-center space-x-2">
                        <i data-lucide="check-circle" class="w-5 h-5 text-green-500"></i>
                        <span>✅ Regras principais:</span>
                    </h4>
                    
                    <div class="space-y-3">
                        <div class="flex items-start space-x-3 rounded-lg p-3">
                            <i data-lucide="clock" class="w-5 h-5 text-amber-500 mt-0.5"></i>
                            <p class="text-gray-700">É necessário ter assinatura ativa há mais de <strong>12 meses</strong> na data do sorteio.</p>
                        </div>
                        
                        <div class="flex items-start space-x-3 rounded-lg p-3">
                            <i data-lucide="user" class="w-5 h-5 text-blue-500 mt-0.5"></i>
                            <p class="text-gray-700">Apenas <strong>um número por usuário</strong>.</p>
                        </div>
                        
                        <div class="flex items-start space-x-3 rounded-lg p-3">
                            <i data-lucide="refresh-cw" class="w-5 h-5 text-red-500 mt-0.5"></i>
                            <p class="text-gray-700">Em caso de cancelamento da assinatura, o tempo é zerado, e um novo período de 12 meses será contado ao reativar.</p>
                        </div>
                    </div>
                </div>

                <!-- Next Draw -->
                <div class="bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl p-6 text-center mb-6">
                    <div class="flex items-center justify-center space-x-2 mb-3">
                        <i data-lucide="calendar" class="w-6 h-6"></i>
                        <h4 class="text-lg font-bold">📅 Próximo Sorteio</h4>
                    </div>
                    <p class="text-xl font-bold mb-2">Primeiro sábado de janeiro do próximo ano!</p>
                    <p class="text-white/90">Mantenha sua assinatura ativa e concorra ao iPhone 16 Pro Max!</p>
                </div>

                <!-- Your Lucky Number -->
                <div class="text-center">
                    <div class="bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-6 border border-amber-200">
                        <h4 class="text-lg font-bold text-gray-900 mb-3">🍀 Seu Número da Sorte</h4>
                        <div class="lucky-number text-white font-bold text-3xl px-6 py-3 rounded-lg inline-block animate-glow">
                            #7842
                        </div>
                        <p class="text-gray-600 mt-3 text-sm">
                            <span class="font-medium text-amber-600">⏳ Faltam 8 meses para habilitar</span>
                        </p>
                        <div class="mt-4">
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="gradient-gold h-2 rounded-full transition-all duration-300" style="width: 33%"></div>
                            </div>
                            <p class="text-xs text-gray-500 mt-1">4 de 12 meses completos</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();
        
        // User menu toggle
        function toggleUserMenu() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.toggle('show');
        }
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            const dropdown = document.getElementById('userDropdown');
            const button = e.target.closest('button');
            
            if (!button || !button.onclick || button.onclick.toString().indexOf('toggleUserMenu') === -1) {
                dropdown.classList.remove('show');
            }
        });
        
        // Warning functions
        function closeWarning() {
            document.getElementById('incompleteDataWarning').style.display = 'none';
        }
        
        // Navigation functions
        function goToAccountData() {
            window.location.href = 'dados-da-conta.html';
        }
        
        function goToPayments() {
            window.location.href = 'pagamentos.html';
        }
        
        function logout() {
            if (confirm('Tem certeza que deseja sair?')) {
                alert('Saindo do sistema...');
                // Redirect to login page
            }
        }
        
        // Action functions
        function createVault() {
            window.location.href = 'criar-cofre-configuracao.html';
        }
        
        function manageRecipients() {
            window.location.href = 'cadastro-destinatarios.html';
        }
        
        function viewVaults() {
            alert('Redirecionando para página de cofres...');
        }
        
        // Lucky modal functions
        function openLuckyModal() {
            document.getElementById('luckyModal').classList.remove('hidden');
            document.getElementById('luckyModal').classList.add('flex');
            document.body.style.overflow = 'hidden';
        }
        
        function closeLuckyModal() {
            document.getElementById('luckyModal').classList.add('hidden');
            document.getElementById('luckyModal').classList.remove('flex');
            document.body.style.overflow = 'auto';
        }
        
        // Close modal when clicking outside
        document.getElementById('luckyModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeLuckyModal();
            }
        });
        
        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeLuckyModal();
            }
        });
    </script>
</body>
</html>

